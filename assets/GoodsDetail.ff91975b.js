import{_ as U,i as V,h as d,f as q,u as P,s as z,I as B,D as F,r as D,M as J,K as $,o as a,j as K,w as T,A as M,m as u,c as n,a as e,e as r,b as H,l as N,F as y,k as b,t,n as Q,N as W,p as X,q as Y}from"./index.e83bda25.js";const v=x=>(X("data-v-1b5f12ee"),x=x(),Y(),x),Z=v(()=>e("div",{class:"nav-bar"},[e("div",{class:"container m-auto flex flex-row items-center h-full justify-between"},[e("div",{class:"nav-left flex flex-row items-center"},[e("div",{class:"navGoodsName"},"\u5C0F\u7C73\u624B\u8868 \u6807\u51C6\u7248"),e("div")]),e("div",null,[e("div",{class:"userAppraisal text-[14px]"},"\u7528\u6237\u8BC4\u4EF7")])])],-1)),ee={key:0,class:"h-[50px] bg-gray-100 flex flex-row items-center justify-center"},se={class:"text-[12px]"},te={key:1,class:"container m-auto flex flex-row mt-2"},oe=["src"],ae=["onMouseenter"],le=["src"],ne={class:"right-goods-info-box flex-1 box-border p-2"},re={class:"text-[22px] my-3"},ce={class:"text-[14px] text-gray-400"},ie={class:"text-primaryColor"},de={class:"border-b border-solid border-gray-200 py-4"},ue={class:"text-[18px] text-primaryColor"},pe={class:"text-gray-400 text-[12px] ml-2"},_e={class:"p-8 border border-solid border-gray-200 bg-gray-100"},xe={class:"text-[14px] text-gray-800 flex flex-row items-center"},fe={class:"iconfont icon-location mr-2",style:{"font-size":"18px"}},ve=v(()=>e("span",{class:"text-primaryColor ml-2"},"\u6709\u73B0\u8D27",-1)),me={class:"my-2"},ge={class:"grid-list"},he=["onClick"],ye={class:"p-8 bg-gray-100"},be={class:"text-[14px] text-gray-800 flex flex-row items-center justify-between"},we={class:"text-primaryColor text-[28px] mt-4"},ke=v(()=>e("button",{type:"button",class:"border-none outline-none flex flex-row h-[50px] w-[120px] bg-gray-300 text-white justify-center items-center ml-10"},[e("span",{class:"iconfont icon-xihuan mr-2"}),r(" \u559C\u6B22 ")],-1)),Ce=v(()=>e("div",{class:"goodsInfo"},[e("div",{class:"mt-5 box-border"},[e("div",{class:"m-auto container"},[e("p",{class:"text-[22px] text-gray-600"},"\u4EF7\u683C\u8BF4\u660E"),e("p",{class:"price-item"},[e("span",null,"\u5212\u7EBF\u4EF7:"),r("\u5546\u54C1\u5C55\u793A\u7684\u5212\u6A2A\u7EBF\u4EF7\u683C\u4E3A\u53C2\u8003\u4EF7\uFF0C\u8BE5\u4EF7\u683C\u53EF\u5F62\u662F\u5546\u54C1\u9996\u6B21\u4E0A\u5E02\u9500\u552E\u4EF7\u3001\u54C1\u724C\u4E13\u67DC\u6807\u4EF7\u3001\u5546\u54C1\u540A\u724C\u4EF7\u6216\u7531\u54C1\u724C\u4F9B\u5E94\u5546\u63D0\u4F9B\u7684\u6B63\u54C1\u96F6\u552E\u4EF7\u3014\u5982 \u5546\u6307\u5BFC\u4EF7\u3001\u5EFA\u8BAE\u96F6\u552E\u4EF7\u7B49\uFF09\u6216\u8BE5\u5546\u54C1\u5728\u5C0F\u7C73\u5546\u57CE\u66FE\u7ECF\u5C55\u793A\u8FC7\u7684\u785D\u552E\u4EF7\uFF1B\u7531\u4E8E\u5730\u533A\u3001\u65F6\u95F4\u7684\u5DEE\u5F02\u6027\u548C\u5E02\u573A\u884C\u60C5\u7684\u6CE2\u52A8\uFF0C\u54C1\u724C\u4E13\u67DC\u6807\u4EF7\u3001\u5546\u54C1\u540A \u724C\u4EF7\u7B49\u53EF\u80FD\u4F1A\u4E0E\u60A8\u8D2D\u7269\u65F6\u5C55\u793A\u7684\u4E0D\u4E00\u81F4\uFF0C\u8BE5\u4EF7\u683C "),e("span",null,"\u5E76\u975E\u539F\u4EF7,\u7ECF\u4F9B\u53C2\u8003")]),e("p",{class:"price-item"},[e("span",null,"\u672A\u5212\u7EBF\u4EF7:"),r("\u672A\u5212\u7EBF\u4EF7\uFF1A\u6307\u5546\u54C1\u7684\u5B9E\u65F6\u8BEE\u552E\u4EF7\u683C\uFF0C\u5176\u4E0D\u56E0\u8868\u8FF0\u7684\u5DEE\u5F02\u6539\u53D8\u6027\u8D28\u3002\u4F46\u5546\u54C1\u5177\u4F53\u7ED3\u7B97\u4EF7\u683C\u53EF\u80FD\u56E0\u8BE5\u5546\u54C1\u53C2\u4E0E\u7684\u6EE1\u51CF\u3001\u9884\u552E\u3001\u9650\u65F6\u4F18\u60A3\u7B49\u5355\u4E2A\u6216\u591A\u4E2A\u6D3B\u52A8\uFF0C\u6216\u8005\u56E0\u4F7F\u7528\u4F18\u60A3\u5238\u3001\u7EA2\u5305\u3001\u7C73\u91D1\u7B49\u800C\u53D1\u751F\u53D8 \u5316\uFF0C "),e("span",null,"\u8BF7\u4EE5\u8BA2\u5355\u7ED3\u7B97\u9875\u5C55\u793A\u4E3A\u51C6")]),e("p",{class:"price-item"},[e("span",null,"\u5176\u4ED6:"),r("\u5546\u54C1\u8BE6\u60C5\u9875\uFF08\u542B\u4E3B\u56FE\uFF09\u4EE5\u56FE\u7247\u6216\u6587\u5B57\u5F62\u5F0F\u6807\u6CE8\u7684\u5230\u624B\u4EF7\u3001\u5238\u540E\u4EF7\u3001\u4F17\u7B79\u4EF7\u3001\u5C1D\u9C9C\u4EF7\u7B49\u4EF7\u683C\u53EF\u80FD\u662F\u5546\u54C1\u5728\u4F7F\u7528\u4F18\u60A3\u5238\u6216\u53C2\u4E0E\u7279\u5B9A\u4F18\u60E0\u6D3B\u52A8\u6216\u5728\u7279\u5B9A\u65F6\u95F4\u6BB5\u7B49\u60C5\u5F62\u4E0B\uFF0C\u7531\u7CFB\u7EDF\u6839\u636E\u76F8\u5E94\u89C4\u5219\u8BA1\u7B97\u5F97 \u51FA\u7684\u9884\u4F30\u5355\u54C1\u7ED3\u7B97\u4EF7\u683C "),e("span",null,"\u5177\u4F53\u8BF7\u4EE5\u8BA2\u5355\u7ED3\u7B97\u9875\u9762\u7684\u6807\u4EF7\u3001\u4F18\u60E0\u6761\u4EF6\u6216\u53BF\u4F53\u6D3B\u52A8\u89C4\u4FA7\u4E3A\u51C6")])])])],-1)),Ie={__name:"GoodsDetail",setup(x){const w=V("baseURL"),R=d(),p=d(!1),k=q(),C=P(),L=z(),I=d("\u6B63\u5728\u52A0\u8F7D\u4E2D"),s=d(),_=d(new Map),j=d(0);document.querySelector("#app").scrollTop=0;const A=o=>{p.value=!0,M.goodsInfo.findById(o).then(l=>{l.goods_desc=JSON.parse(l.goods_desc),l.goods_photo=JSON.parse(l.goods_photo),s.value=l,_.value=new Map,Object.keys(l.goods_desc).forEach(c=>{_.value.set(c,0)})}).finally(()=>{p.value=!1})};(()=>{let o=k.params.id;o&&A(o)})();const f=B(()=>L._loginUserInfo),E=B(()=>{if(s.value.goods_desc){let o=[];return Object.keys(s.value.goods_desc).forEach(c=>{let m=_.value.get(c);o.push(s.value.goods_desc[c][m])}),o.join(" ")}return""});F(()=>{});const G=()=>{f.value?(p.value=!0,I.value="\u6B63\u5728\u63D0\u4EA4\u5230\u8D2D\u7269\u8F66",M.shopCarInfo.addToShopCar({goods_id:s.value.id}).then(o=>{C.replace({name:"AddToShopCarResult",params:{id:s.value.id}}),console.log(s.value.id)}).finally(()=>{p.value=!1})):W.alert("\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u5148\u767B\u5F55","\u63D0\u793A",{type:"info",confirmButtonText:"\u53BB\u767B\u5F55",cancelButtonText:"\u7B97\u4E86",showCancelButton:!0}).then(o=>{C.push({name:"Login",query:{redirectPath:k.fullPath}})}).catch(()=>{})};return(o,l)=>{const c=D("router-link"),m=D("main-container"),O=J("loading");return $((a(),K(m,{"element-loading-text":I.value},{default:T(()=>[Z,u(f)?N("",!0):(a(),n("div",ee,[e("p",se,[r(" \u4E3A\u65B9\u4FBF\u60A8\u8D2D\u4E70\uFF0C\u8BF7\u63D0\u524D\u767B\u5F55 "),H(c,{to:{name:"Login"},class:"text-primary mx-2"},{default:T(()=>[r("\u7ACB\u5373\u767B\u5F55")]),_:1})])])),s.value?(a(),n("div",te,[e("div",{class:"left-switch-box w-[560px] border",ref_key:"switchRef",ref:R},[e("img",{src:u(w)+s.value.goods_photo[j.value],class:"w-[560px] h-[560px]",alt:""},null,8,oe),e("ul",null,[(a(!0),n(y,null,b(s.value.goods_photo,(g,i)=>(a(),n("li",{onMouseenter:h=>j.value=i},[e("img",{src:u(w)+g,alt:""},null,8,le)],40,ae))),256))])],512),e("div",ne,[e("div",re,t(s.value.goods_name),1),e("p",ce,[e("span",ie,t(s.value.goods_brief_o),1),r(" "+t(s.value.goods_brief),1)]),e("p",de,[e("span",ue,t(s.value.goods_sale_price)+"\u5143",1),e("del",pe,t(s.value.goods_price)+"\u5143",1)]),e("div",_e,[e("p",xe,[e("span",fe,t(u(f)?u(f).custom_addr:"\u5317\u4EAC \u5317\u4EAC\u5E02 \u6D77\u6DC0\u533A \u6E05\u6CB3\u8857\u9053"),1),r(" \u6E56\u5317\u7701 \u6B66\u6C49\u5E02 \u6C5F\u590F\u533A "),ve])]),(a(!0),n(y,null,b(s.value.goods_desc,(g,i)=>(a(),n("div",{class:"my-4",key:i},[e("p",me,"\u9009\u62E9"+t(i),1),e("div",ge,[(a(!0),n(y,null,b(g,(h,S)=>(a(),n("div",{class:Q(["grid-item border border-solid border-gray-200 text-[14px] text-gray-800 p-2 h-[50px] flex flex-row items-center justify-center cursor-pointer;",{active:_.value.get(i)===S}]),key:h,onClick:je=>_.value.set(i,S)},t(h),11,he))),128))])]))),128)),e("div",ye,[e("div",be,[e("p",null,t(u(E)),1),e("p",null,[e("span",null,t(s.value.goods_sale_price)+"\u5143",1),e("del",null,t(s.value.goods_price)+"\u5143",1)])]),e("div",we," \u603B\u8BA1\uFF1A"+t(s.value.goods_sale_price)+"\u5143 ",1)]),e("div",{class:"flex flex-row mt-5"},[e("button",{type:"button",class:"border-none outline-none bg-primaryColor text-white flex flex-row justify-center items-center w-[260px] h-[50px]",onClick:G}," \u52A0\u5165\u8D2D\u7269\u8F66 "),ke])])])):N("",!0),Ce]),_:1},8,["element-loading-text"])),[[O,p.value]])}}},Be=U(Ie,[["__scopeId","data-v-1b5f12ee"]]);export{Be as default};
