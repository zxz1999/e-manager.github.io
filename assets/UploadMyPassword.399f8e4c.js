import{s as U,I as F,g as x,h as w,r as n,o as N,j as I,w as s,b as o,m as c,e as f,A as h,N as _}from"./index.e83bda25.js";const C={__name:"UploadMyPassword",setup(k){const P=U(),p=F(()=>P._loginUserInfo),e=x({oldPassword:"",newPassword:"",confirmPassword:""}),u=w(null),g={customRealName:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],oldPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801",trigger:"blur"}],newPassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"}],confirmPassword:[{required:!0,message:"\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801",trigger:"blur"},{validator:(r,l,a)=>{l!==e.newPassword?a(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):a()},trigger:"blur"}]},y=()=>{u.value.validate(r=>{if(r)b();else return console.log("error submit!!"),!1})},m=w(!1),b=()=>{m.value=!0,h.customInfo.uploadMyPassword(e).then(r=>{_.alert("\u4FEE\u6539\u5BC6\u7801\u6210\u529F","\u63D0\u793A",{type:"success"})}).catch(r=>{console.log(r),_.alert(r.msg,"\u63D0\u793A",{type:"error"})}).finally(()=>{e.oldPassword="",e.newPassword="",e.confirmPassword="",m.value=!1})},V=()=>{u.value.resetFields()};return(r,l)=>{const a=n("el-input"),t=n("el-form-item"),i=n("el-button"),v=n("el-form"),M=n("el-card");return N(),I(M,{header:"\u4FEE\u6539\u5BC6\u7801",shadow:"never"},{default:s(()=>[o(v,{model:e,rules:g,ref_key:"uploadMyPasswordFormEl",ref:u,"label-width":"80px"},{default:s(()=>[o(t,{label:"\u7528\u6237"},{default:s(()=>[o(a,{readonly:"",placeholder:"\u7528\u6237",modelValue:c(p).custom_realName,"onUpdate:modelValue":l[0]||(l[0]=d=>c(p).custom_realName=d)},null,8,["modelValue"])]),_:1}),o(t,{label:"\u539F\u5BC6\u7801",prop:"oldPassword"},{default:s(()=>[o(a,{type:"password",modelValue:e.oldPassword,"onUpdate:modelValue":l[1]||(l[1]=d=>e.oldPassword=d),placeholder:"\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u65B0\u5BC6\u7801",prop:"newPassword"},{default:s(()=>[o(a,{type:"password",modelValue:e.newPassword,"onUpdate:modelValue":l[2]||(l[2]=d=>e.newPassword=d),placeholder:"\u65B0\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"confirmPassword"},{default:s(()=>[o(a,{type:"password",modelValue:e.confirmPassword,"onUpdate:modelValue":l[3]||(l[3]=d=>e.confirmPassword=d),placeholder:"\u786E\u8BA4\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),o(t,null,{default:s(()=>[o(i,{type:"primary",onClick:y,loading:m.value},{default:s(()=>[f("\u63D0\u4EA4")]),_:1},8,["loading"]),o(i,{onClick:V},{default:s(()=>[f("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{C as default};
