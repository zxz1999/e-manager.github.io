import{_ as I,i as w,u as b,f as q,g,h as B,r as l,o as c,j as E,w as L,a as t,c as _,k as N,n as R,t as a,l as u,b as h,m as j,e as f,F as V,p as F,q as z}from"./index.de7099bd.js";import{A}from"./index.07080e2f.js";const G=d=>(F("data-v-e30cf511"),d=d(),z(),d),P={class:"container m-auto"},U={class:"goods-grid-box my-5"},J=["onClick"],O={href:"javascript:void(0)"},T={class:"figure figure-img"},$={class:"text-box"},H={class:"title"},K={class:"desc"},M={class:"price"},Q={class:"num"},W=G(()=>t("span",null,"\u8D77",-1)),X={class:"num"},Y={key:0,class:"mt-2 flex flex-row justify-between"},Z={class:"text-gray-500 text-[14px]"},oo={__name:"Search",setup(d){const m=w("baseURL"),x=b(),i=q(),n=g({pageIndex:1,goods_name:"",products_id:""}),e=g({listData:[],pageStart:1,pageEnd:1,totalCount:0,pageCount:0}),v=B(!1),p=()=>{A.goodsInfo.getListByPage(n).then(o=>{o.listData.forEach(r=>{r.goods_photo=JSON.parse(r.goods_photo)}),console.log(o),e.listData=o.listData,e.pageStart=o.pageStart,e.pageEnd=o.pageEnd,e.totalCount=o.totalCount,e.pageCount=o.pageCount}).finally(o=>{v.value=!1})};n.goods_name=i.query.keyword,n.products_id=i.query.products_id,p();const y=o=>{n.pageIndex=o,p()},C=o=>{window.open(x.resolve({name:"GoodsDetail",params:{id:o.id}}).href)};return(o,r)=>{const D=l("el-image"),k=l("el-pagination"),S=l("main-container");return c(),E(S,null,{default:L(()=>[t("div",P,[t("div",U,[(c(!0),_(V,null,N(e.listData,(s,to)=>(c(),_("div",{class:"goods-grid-item",key:s.id,onClick:so=>C(s)},[s.goods_status===2||s.goods_status===4?(c(),_("div",{key:0,class:R(["goods_status","goods_status-"+s.goods_status])},a(["","\u4E0A\u67B6","\u9884\u552E","\u6B63\u5E38","\u4FC3\u9500"][s.goods_status]),3)):u("",!0),t("a",O,[t("div",T,[h(D,{width:"160",height:"160",alt:s.goods_name,src:j(m)+s.goods_photo[0],lazy:"","scroll-container":"#app"},null,8,["alt","src"])]),t("div",$,[t("h3",H,a(s.goods_name),1),t("p",K,a(s.goods_brief_o),1),t("p",M,[t("span",Q,a(s.goods_sale_price),1),f("\u5143"),W,t("del",null,[t("span",X,a(s.goods_price),1),f("\u5143")])])])])],8,J))),128))]),e.listData.length>0?(c(),_("div",Y,[t("p",Z,"\u5F53\u524D\u5171\u7B2C"+a(n.pageIndex)+"\u9875\uFF0C\u5171"+a(e.pageCount)+"\u9875\uFF0C\u5171"+a(e.totalCount)+"\u6761",1),h(k,{background:"",layout:"prev, pager, next","current-page":n.pageIndex,onCurrentChange:y,total:e.totalCount},null,8,["current-page","total"])])):u("",!0)])]),_:1})}}},no=I(oo,[["__scopeId","data-v-e30cf511"]]);export{no as default};
